# 🏯 Gateway of Regrets: Soul Defense (해원문) — 마스터 플랜

> **프로젝트 전체 로드맵 및 체크리스트**

---

## 📌 프로젝트 정보

- **장르**: 타워 디펜스 (Kingdom Rush 스타일)
- **기술**: Flutter + Flame Engine (Dart)
- **플랫폼**: Windows, Web, (향후 Mobile)
- **경로**: `E:\01_defense`

---

## 🏗️ 핵심 시스템 완료 현황

### 게임 코어

- [x] GameMap — 경로/격자/타워 슬롯 시스템
- [x] WaveManager — 웨이브 스폰/진행/완료
- [x] DayNightSystem — 낮/밤 전환
- [x] 골드 경제 시스템

### 타워

- [x] 4종 기본 타워 (궁수/마법사/포병/병영)
- [x] 레벨 1~4 업그레이드
- [x] 레벨 4 분기 선택 (Branch A/B)
- [x] 타워 건설/판매/업그레이드 UI

### 적

- [x] 기본 적 유닛
- [x] 웨이포인트 기반 이동
- [x] 유저 레벨 기반 HP 스케일링

### 병영

- [x] 병사 스폰/리스폰
- [x] Rally Point 드래그앤드롭
- [x] 적 블로킹 + 근접 전투

### 영웅

- [x] 영웅 이동/능력
- [ ] 영웅별 고유 스킬

### UI/HUD

- [x] 게임 HUD (골드, 생명, 웨이브)
- [x] 타워 선택 패널
- [ ] 웨이브 미리보기 HUD
- [ ] 일시정지/배속 UI

### 성능 최적화

- [x] PictureRecorder 래스터 캐시 (600+ → 2 이미지)
- [x] 이벤트 기반 슬롯 상태 (update 폴링 제거)
- [x] addPostFrameCallback 제거
- [x] 적 물량 제한 (웹 최적화)

---

## 📅 마일스톤

### M1: 코어 게임플레이 ✅

- 타워 배치, 적 이동, 웨이브 진행

### M2: 성능 최적화 ✅

- 래스터 캐시, 이벤트 기반 상태

### M3: HUD/UI 완성 (진행 중)

- 웨이브 미리보기, 일시정지, 배속

### M4: 컨텐츠 확장

- 추가 스테이지, 적 유닛, 보스

### M5: 배포

- Web 빌드, 스토어 출시

---

**마지막 업데이트**: 2026-02-19
